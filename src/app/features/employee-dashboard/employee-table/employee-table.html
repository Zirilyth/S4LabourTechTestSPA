<div class="relative overflow-x-auto shadow-md sm:rounded-lg bg-gray-600">
	<table class="table table-striped">
		<thead class="table-header">
		<tr>
			<th scope="col" class="ps-3 py-3">
				<button class="btn-primary" (click)="resource().reload()">
					<svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true"
						 xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
						<path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
							  d="M17.651 7.65a7.131 7.131 0 0 0-12.68 3.15M18.001 4v4h-4m-7.652 8.35a7.13 7.13 0 0 0 12.68-3.15M6 20v-4h4"/>
					</svg>
				</button>
			</th>
			<th scope="col" class="px-3 py-3">Name</th>
			<th scope="col" class="px-3 py-3">Email</th>
			<th scope="col" class="px-3 py-3">Phone</th>
			<th scope="col" class="px-3 py-3">Favourite</th>
		</tr>
		</thead>
		<tbody>
			@if (resource().error()) {
				<td colspan="5">
					<h1 class="p-10 text-center text-5xl">{{ resource().error()?.message }}</h1>
					<button class="btn-primary">Retry Request</button>
				</td>
			} @else if (resource().isLoading()) {
				<tr>
					<td colspan="5">
						<app-table-skeleton></app-table-skeleton>
					</td>
				</tr>
			} @else {
				@for (employee of employees(); track employee) {
					<tr class="table-row" (click)="rowPressed($event, employee)">
						<td class="ps-2 py-4"><img class="rounded-2xl" [ngSrc]="employee.picture.medium" height="64"
												   width="64" [alt]="'A photo of '+ employee.name.fullName"></td>
						<td class="px-3 py-4">{{ employee.name.fullName }}</td>
						<td class="px-3 py-4">{{ employee.email }}</td>
						<td class="px-3 py-4">{{ employee.phone }}</td>
						<td class="px-3 py-4">
							<button class=" btn-primary" (click)="setFavourite($event,employee)">
								<svg [ngClass]="{'favourite': employee.favourite}"
									 xmlns="http://www.w3.org/2000/svg"
									 fill="currentColor" viewBox="0 0 24 24" stroke-width="1.5"
									 stroke="currentColor" class="size-6 w-6 h-6 dark:text-gray-800 text-white">
									<path stroke-linecap="round" stroke-linejoin="round"
										  d="M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"/>
								</svg>
							</button>
						</td>
					</tr>
				} @empty {
					<tr>
						<td colspan="5">
							<h1 class="p-10 text-center text-5xl">No Employees Found</h1>
						</td>
					</tr>
				}
			}
		</tbody>
	</table>
</div>
